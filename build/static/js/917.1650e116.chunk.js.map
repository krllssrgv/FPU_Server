{"version":3,"file":"static/js/917.1650e116.chunk.js","mappings":"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","sources":["webpack://fiftypullups/./src/pages/ProfilePage/ProfilePage.module.scss?3e38","pages/ProfilePage/ProfilePage.jsx","webpack://fiftypullups/./src/widgets/Header/Header.module.scss?b167","widgets/Header/Header.jsx","webpack://fiftypullups/./src/widgets/TextInput/TextInput.module.scss?7c95","widgets/TextInput/TextInput.jsx","webpack://fiftypullups/./src/widgets/ConfirmButton/ConfirmButton.module.scss?f06e","widgets/ConfirmButton/ConfirmButton.jsx","webpack://fiftypullups/./src/widgets/ErrorField/ErrorField.module.scss?ef97","widgets/ErrorField/ErrorField.jsx","webpack://fiftypullups/./src/widgets/Loading/Loading.module.scss?e2ee","widgets/Loading/Loading.jsx","../node_modules/classnames/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ProfilePage_container__pnjtO\",\"data\":\"ProfilePage_data__2lulF\",\"email\":\"ProfilePage_email__gyZ5L\",\"exit\":\"ProfilePage_exit__v-Nsc\",\"code\":\"ProfilePage_code__NF7KI\",\"remove\":\"ProfilePage_remove__phvRM\"};","import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport { Header } from \"widgets\";\r\nimport { url, routes } from \"shared\";\r\nimport { ConfirmButton, TextInput, ErrorField } from \"widgets\";\r\nimport styles from './ProfilePage.module.scss';\r\n\r\n\r\nfunction ProfilePage() {\r\n    const [name, setName] = useState(''),\r\n          [surname, setSurname] = useState(''),\r\n          [email, setEmail] = useState(''),\r\n          [confirmed, setConfirmed] = useState(''),\r\n          [progress, setProgress] = useState(),\r\n\r\n          [code, setCode] = useState(''),\r\n          [codeError, setCodeError] = useState('');\r\n\r\n    const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n        document.title = 'Профиль';\r\n\r\n        async function getUserData() {\r\n            const response = await fetch(`${url}api/user/user`, {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                const json = await response.json();\r\n                setName(json.name);\r\n                setSurname(json.surname);\r\n                setEmail(json.email);\r\n                setProgress(json.progress);\r\n                setConfirmed(json.confirmed);\r\n            } else {\r\n                if (response.status === 401) {\r\n                    navigate(routes.login);\r\n                }\r\n            }\r\n        }\r\n\r\n        getUserData();        \r\n    }, []);\r\n\r\n\r\n    const logout = () => {\r\n        async function connect() {\r\n            const response = await fetch(`${url}api/user/logout`, {\r\n                method: 'POST',\r\n                credentials: 'include'\r\n            });\r\n\r\n            if (response.ok) {\r\n                navigate(routes.login);\r\n            } else {\r\n                navigate(routes.login);\r\n            }\r\n        }\r\n\r\n        connect();\r\n    }\r\n\r\n\r\n    const confirm = () => {\r\n        setCodeError('');\r\n\r\n        async function connect() {\r\n            const response = await fetch(`${url}api/user/confirm_email`, {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({code: code})\r\n            });\r\n\r\n            if (response.status === 204) {\r\n                setConfirmed(true);\r\n            } else if (response.status === 401) {\r\n                navigate(routes.login);\r\n            } else if (response.status === 400) {\r\n                const json = await response.json();\r\n                if ('error' in json) {\r\n                    setCodeError(json.error);\r\n                }\r\n            }\r\n        }\r\n\r\n        connect();\r\n    }\r\n\r\n\r\n    const removeProfile = () => {\r\n        async function connect() {\r\n            const response = await fetch(`${url}api/user/remove`, {\r\n                methed: 'POST',\r\n                credentials: 'include',\r\n            });\r\n\r\n            if (response.ok) {\r\n                navigate(routes.register);\r\n            }\r\n        }\r\n\r\n        connect();\r\n    }\r\n\r\n\r\n    const renderCheck = () => {\r\n        if (confirmed) {\r\n            return(<></>);\r\n        } else {\r\n            return(\r\n                <div className={classNames(styles.container)}>\r\n                    <div className={styles.data}>Подтвердите Email</div>\r\n                    <div className={styles.code}>\r\n                        <TextInput\r\n                            type=\"text\"\r\n                            value={code}\r\n                            setValue={setCode}\r\n                            placeholder=\"Код\"\r\n                            error={codeError}\r\n                        />\r\n\r\n                        <ErrorField text={codeError} />\r\n                    </div>\r\n                    <ConfirmButton text='Подтвердить' func={confirm} />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            <Header progress={progress} name={name} />\r\n            { renderCheck() }\r\n            <div className={styles.container}>\r\n                <div className={styles.data}>{name} {surname}</div>\r\n                <div className={styles.email}>{email}</div>\r\n                <div className={styles.exit}>\r\n                    <ConfirmButton text='Выйти' func={logout} />\r\n                </div>\r\n                <div className={styles.remove} onClick={removeProfile}>Удалить аккаунт</div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProfilePage;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Header_container__sIvSD\",\"progress\":\"Header_progress__Knaw2\",\"title\":\"Header_title__xQOAv\",\"line\":\"Header_line__NLBLw\",\"done\":\"Header_done__MKQbz\",\"profile\":\"Header_profile__8DmgZ\",\"circle\":\"Header_circle__cpCJ5\",\"name\":\"Header_name__Cfg+t\"};","import { Link } from 'react-router-dom';\r\nimport { routes } from 'shared';\r\nimport styles from './Header.module.scss';\r\n\r\nfunction Header(props) {\r\n    const {name, progress} = props;\r\n\r\n    return(\r\n        <header>\r\n            <div className={styles.container}>\r\n                <Link to={routes.main} className={styles.progress}>\r\n                    <div className={styles.title}>Ваш прогресс - {progress}%</div>\r\n                    <div className={styles.line}>\r\n                        <div className={styles.done} style={{width: `${progress}%`}}></div>\r\n                    </div>\r\n                </Link>\r\n\r\n                <Link to={routes.profile} className={styles.profile}>\r\n                    <div className={styles.circle}></div>\r\n                    <div className={styles.name}>{name}</div>\r\n                </Link>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"TextInput_input__qU3TT\",\"error\":\"TextInput_error__TqHb5\"};","import classNames from 'classnames';\r\nimport styles from './TextInput.module.scss';\r\n\r\nfunction TextInput(props) {\r\n    const { type, value, setValue, placeholder, error } = props;\r\n\r\n    return(\r\n        <input className={classNames(styles.input, (error ? styles.error : null))} type={type} value={value} onChange={(e) => setValue(e.target.value)} placeholder={placeholder} />\r\n    );\r\n}\r\n\r\nexport default TextInput;","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"ConfirmButton_button__+RXyr\"};","import styles from './ConfirmButton.module.scss';\r\n\r\n\r\nfunction ConfirmButton(props) {\r\n    const { text, func } = props;\r\n\r\n    return(\r\n        <button className={styles.button} onClick={() => func()}>\r\n            {text}\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default ConfirmButton;","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"ErrorField_error__IDB2R\"};","import styles from './ErrorField.module.scss';\r\n\r\nfunction ErrorField(props) {\r\n    const { text } = props;\r\n\r\n    return(\r\n        <div className={styles.error}>{text}</div>\r\n    );\r\n}\r\n\r\nexport default ErrorField;","// extracted by mini-css-extract-plugin\nexport default {\"loading\":\"Loading_loading__feCEp\",\"round\":\"Loading_round__WD1AC\",\"max\":\"Loading_max__Ld8vn\",\"med\":\"Loading_med__dw8-T\",\"min\":\"Loading_min__Zz-4I\"};","import classNames from 'classnames';\r\nimport loadingImg from 'assets/img/loading.png';\r\nimport styles from './Loading.module.scss';\r\n\r\n\r\nfunction Loading(props) {\r\n    let targetClass;\r\n\r\n    if (props.size === 'max') {\r\n        targetClass = styles.max;\r\n    } else if (props.size === 'med') {\r\n        targetClass = styles.med;\r\n    } else if (props.size === 'min') {\r\n        targetClass = styles.min;\r\n    }\r\n\r\n\r\n    return(\r\n        <div className={classNames(styles.loading, targetClass)}>\r\n            <img src={loadingImg} alt=\"Loading\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loading;","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["name","setName","useState","surname","setSurname","email","setEmail","confirmed","setConfirmed","progress","setProgress","code","setCode","codeError","setCodeError","navigate","useNavigate","useEffect","document","title","async","response","fetch","concat","url","method","credentials","headers","ok","json","status","routes","login","getUserData","confirm","body","JSON","stringify","error","connect","_jsxs","_Fragment","children","_jsx","Header","className","classNames","styles","TextInput","type","value","setValue","placeholder","ErrorField","text","ConfirmButton","func","logout","onClick","removeProfile","methed","register","props","Link","to","main","style","width","profile","onChange","e","target","targetClass","size","src","alt","hasOwn","hasOwnProperty","classes","i","arguments","length","arg","appendClass","parseValue","Array","isArray","apply","toString","Object","prototype","includes","key","call","newClass","module","exports","default"],"sourceRoot":""}